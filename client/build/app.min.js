"user strict";angular.module("chatApp",["ngRoute"]).config(["$routeProvider",function(o){o.when("/login",{templateUrl:"src/login/login.html",controller:"LoginController"}).when("/roomlist",{templateUrl:"src/roomlist/roomlist.html",controller:"RoomlistController"}).when("/room",{templateUrl:"src/room/room.html",controller:"RoomController"}).otherwise({redirectTo:"/login"})}]);
"use strict";angular.module("chatApp").controller("LoginController",["$scope","socket","$location","$rootScope","$routeParams",function(o,e,r,s,t){o.user="",o.errorMessage="",o.onLogin=function(){e.emit("adduser",o.user,function(e,s){e?r.path("/roomlist/"):o.errorMessage="This username is already taken!"})}}]);
angular.module("chatApp").controller("RoomController",function(o,l){l.id});
angular.module("chatApp").controller("RoomlistController",["$scope","socket","$location","$routeParams",function(o,r,e,n){r.on("roomlist",function(r){o.roomlist=r}),r.emit("rooms"),o.errorMessage="",o.roomName="",o.currentUser=n.user,o.newRoom=function(){r.emit("joinroom",{room:o.roomName})},o.moveToRoom=function(n){r.emit("joinroom",{room:n},function(r){r?e.path("/room/"+o.currentUser+"/"+n):o.errorMessage="Cannot join room"})},r.on("userlist",function(r){o.activeUsers=r}),r.emit("users")}]);
angular.module("chatApp").factory("socket",function(n){var t=io.connect("http://localhost:8080");return{on:function(o,a){t.on(o,function(){var o=arguments;n.$apply(function(){a.apply(t,o)})})},emit:function(o,a,c){t.emit(o,a,function(){var o=arguments;n.$apply(function(){c&&c.apply(t,o)})})}}});